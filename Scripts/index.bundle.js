!function (e) { function t(t) { for (var i, s, l = t[0], r = t[1], c = t[2], u = 0, h = []; u < l.length; u++)s = l[u], o[s] && h.push(o[s][0]), o[s] = 0; for (i in r) Object.prototype.hasOwnProperty.call(r, i) && (e[i] = r[i]); for (d && d(t); h.length;)h.shift()(); return a.push.apply(a, c || []), n() } function n() { for (var e, t = 0; t < a.length; t++) { for (var n = a[t], i = !0, l = 1; l < n.length; l++) { var r = n[l]; 0 !== o[r] && (i = !1) } i && (a.splice(t--, 1), e = s(s.s = n[0])) } return e } var i = {}, o = { 0: 0 }, a = []; function s(t) { if (i[t]) return i[t].exports; var n = i[t] = { i: t, l: !1, exports: {} }; return e[t].call(n.exports, n, n.exports, s), n.l = !0, n.exports } s.m = e, s.c = i, s.d = function (e, t, n) { s.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, s.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, s.t = function (e, t) { if (1 & t && (e = s(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (s.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var i in e) s.d(n, i, function (t) { return e[t] }.bind(null, i)); return n }, s.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return s.d(t, "a", t), t }, s.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, s.p = ""; var l = window.webpackJsonp = window.webpackJsonp || [], r = l.push.bind(l); l.push = t, l = l.slice(); for (var c = 0; c < l.length; c++)t(l[c]); var d = r; a.push([19, 1]), n() }({ 17: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.getHref = void 0; var i = function (e) { return e && e.__esModule ? e : { default: e } }(n(3)); var o = { data: function () { return { current_page: location.origin + "/" + location.search, pic_path: null } }, template: "#share-template", methods: { openQQ: function (e) { var t = '<div class="share-container"><ul class="share-info-list share-info-qq-group">'; e.forEach(function (e) { var n = e.alias, i = e.number; t += '<li class="share-info-item">\n            <span class="share-info-label">' + n + '</span><span\n             class="share-info-link">' + i + "</span>\n          </li>" }), t += "</ul></div>", i.default.setContent(t), i.default.open() }, openWechat: function () { i.default.setContent('<div class="share-container"><img class="share-image" src="/assets/index/images/ak/common/share/wechat-code.png" alt/></div>'), i.default.open() }, openWeibo: function () { window.open("https://www.weibo.com/arknights") } } }; t.getHref = function (e) { return e ? e.href ? e.href : isNaN(e.value) ? "mailto:" + e.value : "http://wpa.qq.com/msgrd?v=3&uin=" + e.value + "&site=qq&menu=yes" : "javascript:" }, t.default = o }, 19: function (e, t, n) { "use strict"; n(20), n(5), n(23), n(24), n(3), n(51), n(52), n(55), n(4), n(57), n(58), n(59) }, 23: function (e, t, n) { "use strict"; new (function (e) { return e && e.__esModule ? e : { default: e } }(n(1)).default)({ el: "#footer", select: null, mounted: function () { this.select = this.$el.querySelector(".footer-media-select") }, methods: { checkMedia: function () { window.open(this.select.value) } } }) }, 24: function (e, t, n) { "use strict"; var i = u(n(1)), o = u(n(25)), a = u(n(4)), s = n(17), l = u(s), r = u(n(3)), c = u(n(50)), d = n(5); function u(e) { return e && e.__esModule ? e : { default: e } } var h = navigator.userAgent; new i.default({ el: "#header", data: { logged: !1, username: null, expanded: !1, collapsed: !0, sections: null }, beforeDestroy: function () { document.removeEventListener("click", this.closeCheck), c.default.destroy() }, mounted: function () { var e = this; o.default.get("/user/user/getUserInfo", { contentType: "application/json", dataType: "json", xhrFields: { withCredentials: !0 } }).then(function (t) { var n = t.data; n && 0 === n.code && (e.logged = !0) }), this.sections = a.default, document.addEventListener("click", this.closeCheck), c.default.mount() }, components: { "component-share": l.default }, methods: { toggleExpand: function () { this.expanded ? this.close() : this.open() }, open: function () { this.expanded = !0, document.querySelector(".sp") && (document.body.style.setProperty("overflow", "hidden"), this.sections && (this.sections.scrollable = !1)) }, close: function () { this.expanded = !1, document.querySelector(".sp") && (document.body.style.setProperty("overflow", ""), this.sections && (this.sections.scrollable = !0)) }, closeCheck: function (e) { for (var t = e.target; null !== t;) { if (t === this.$el) return; t = t.parentNode } this.close() }, toggleCollapse: function () { this.collapsed = !this.collapsed }, scrollTo: function (e) { this.sections && this.sections.scrollTo(e), this.close() }, showHelp: function (e) { this.close(); var t = '<div class="share-container"><ul class="share-info-list share-info-custom-service">'; e.forEach(function (e) { t += '<li class="share-info-item">\n            <span class="share-info-label">' + e.label + '</span><a\n             class="share-info-link" target="_blank" href="' + (0, s.getHref)(e) + '">' + e.value + "</a>\n          </li>" }), r.default.setContent(t), r.default.open() }, openDownload: function (e) { var t = '<div class="modal-download">\n        <a class="modal-download-btn ios" href="' + e.ios + '" title="ios下载" />\n        <a class="modal-download-btn android" href="' + (d.platform.ios.test(h) ? e.ios : e.android) + '" title="android下载" />\n        <a class="modal-download-btn taptap" href="' + e.taptap + '" title="taptap下载" />\n        <a class="modal-download-btn divider" href="javascript:0;" />\n        <a class="modal-download-btn bilibili" href="' + e.bilibili + '" title="bilibili视频专区" />\n      </div>'; r.default.setContent(t), r.default.open() }, comfirmLogout: function () { var e = this; window.confirm("确定要登出吗？") && o.default.post("/user/login/logout", { contentType: "application/json", dataType: "json", xhrFields: { withCredentials: !0 } }).then(function (t) { var n = t.data; n && 0 === n.code && (e.logged = !1) }) }, isCurrent: function (e) { return this.sections && this.sections.section_current === e } } }) }, 3: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.Modal = t.ModalStore = void 0; var i = function (e) { return e && e.__esModule ? e : { default: e } }(n(1)); i.default.component("modal-plain", { props: ["data"], template: '<div class="modal-content" v-html="data"></div>' }), i.default.component("modal-archive", { props: ["data"], data: function () { return { width: window.innerWidth, height: window.innerHeight, image: null } }, computed: { imageHeight: function () { var e = this.height - 160; return this.image && e > this.image.height ? null : e }, imageWidth: function () { return this.image && this.imageHeight * this.image.naturalWidth / this.image.naturalHeight || null } }, methods: { onResize: function () { this.width = window.innerWidth, this.height = window.innerHeight }, setImage: function (e) { this.image = e.target } }, mounted: function () { window.addEventListener("resize", this.onResize) }, beforeDestroy: function () { window.removeEventListener("resize", this.onResize) }, template: '<div class="modal-content">\n      <div class="modal-archive-wrapper">\n        <img class="modal-archive-image" :src="data.url" @load.once="setImage" :style="{ width: imageWidth + \'px\' }" alt/>\n        <div class="modal-archive-info">\n          <span class="modal-archive-title">R E C O R D<br>K E Y W O R D S</span>\n          <span class="modal-archive-keyword" v-for="keyword, i in data.keywords" :key="i">{{ keyword }}</span>\n        </div>\n      </div>\n    </div>' }), i.default.component("modal-video", { methods: { enterFullScreen: function (e) { var t = e.target; this.requestFullScreen(t) }, requestFullScreen: function () { } }, mounted: function () { var e = this.$el.querySelector("video"), t = void 0;["requestFullScreen", "webkitRequestFullScreen", "mozRequestFullScreen", "msRequestFullScreen", "oRequestFullScreen"].forEach(function (n) { if (e[n]) return t = n, !0 }), this.requestFullScreen = function (e) { e[t]() } }, props: ["data"], template: '<div class="modal-content">\n       <div class="modal-video-wrapper">\n         <video autoplay controls @click="enterFullScreen" class="modal-video-element" :src="data.src"></video>\n       </div>\n    </div>' }), i.default.component("modal", { template: "#modal-template" }); var o = { state: { showModal: !1, current_component: { name: "modal-plain", data: null }, scrollbar_width: 0 }, open: function () { if (!this.showModal) { var e = document.body; e.querySelector(".wrap").classList.contains("pc") && (e.style.setProperty("padding-right", this.state.scrollbar_width + "px"), e.style.setProperty("overflow", "hidden")), this.state.showModal = !0 } }, close: function () { if (this.state.showModal) { var e = document.body; e.style.paddingRight = null, e.style.overflow = null, this.state.showModal = !1 } }, setScrollBar: function () { this.state.scrollbar_width = function () { var e, t, n = document.createElement("div"), i = document.createElement("div"); return n.style.visibility = "hidden", n.style.width = "100px", document.body.appendChild(n), e = n.offsetWidth, n.style.overflow = "scroll", i.style.width = "100%", n.appendChild(i), t = i.offsetWidth, n.parentNode.removeChild(n), e - t }() }, setContent: function (e) { this.state.current_component.name = "modal-plain", this.state.current_component.data = e }, setComponent: function (e, t) { this.state.current_component.name = e, this.state.current_component.data = t }, clearContent: function () { this.state.current_component.name = null, this.state.current_component.data = null } }, a = new i.default({ el: "#modal", data: { state: o.state }, mounted: function () { o.setScrollBar() }, methods: { setContent: function (e) { o.setContent(e) }, setComponent: function (e, t) { o.setComponent(e, t) }, clearContent: function () { o.clearContent() }, open: function () { o.open() }, close: function () { o.close() } } }); t.ModalStore = o, t.Modal = a, t.default = a }, 4: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }), t.Section = t.SectionStore = void 0; var i = l(n(1)), o = n(7), a = l(n(44)), s = l(n(49)); function l(e) { return e && e.__esModule ? e : { default: e } } var r = null, c = { state: { sections: [], visited: [] }, push: function (e) { this.state.sections.push(e), this.state.visited.push(!1) }, visit: function (e) { i.default.set(this.state.visited, e, !0) } }; if (document.getElementById("section")) { var d = function (e) { var t = this; "string" == typeof e && (e = document.querySelector(e)); var n = e && e.offsetTop || 0, i = e && e.offsetHeight || 0; n >= this.scroll_top + window.innerHeight - i && (n -= window.innerHeight - i); var a = .7 * Math.min(Math.abs(n - this.scroll_top) / window.innerHeight, 1); this.scroll_top !== n && (this.scrollable = !1, o.TweenLite.fromTo(this.$data, a, { scroll_top_tweened: this.scroll_top }, { scroll_top_tweened: n, onComplete: function () { t.scrollable = !0 } })) }, u = function () { var e = this, t = 0; return this.state.sections.some(function (n, i) { if ("string" == typeof n && (n = document.querySelector(n)), n.offsetTop >= e.scroll_top || i === e.state.sections.length - 1) return t = i, !0 }), t }, h = function (e) { e = Math.max(0, Math.min(e, this.state.sections.length - 1)); var t = this.state.sections[e]; this.scrollTo(t) }, f = document.querySelector(".wrap"); if (f.classList.contains("pc")) { var p = { prevTime: (new Date).getTime(), fired: !1, scrolls: [] }, v = function (e, t) { for (var n = 0, i = e.slice(Math.max(e.length - t, 1)), o = 0; o < i.length; o++)n += i[o]; return Math.ceil(n / t) }, m = function (e) { "\b" !== e.key && 32 !== e.keyCode || e.target !== document.body || e.preventDefault() }; t.Section = r = new i.default({ el: "#section", data: { state: c.state, scroll_top: window.pageYOffset, scroll_top_tweened: 0, scrollable: !0 }, watch: { scroll_top_tweened: function (e) { window.scrollTo(window.pageXOffset, e) } }, computed: { section_current: u }, mounted: function () { var e = this, t = Array.prototype.slice.call(document.querySelectorAll(".section")); t.push(document.querySelector("footer")), t.forEach(function (e) { return c.push(e) }), window.addEventListener("scroll", this.onScroll), window.addEventListener(a.default.getEventType(), this.onWheel), window.addEventListener("keydown", m); var n = location.hash; n ? setTimeout(function () { e.scrollTo(n.split("!").join("")) }, 500) : this.scrollTo() }, beforeDestroy: function () { window.removeEventListener("scroll", this.onScroll), window.removeEventListener(a.default.getEventType(), this.onWheel), window.removeEventListener("keydown", m) }, methods: { onScroll: function () { var e = this, t = window.pageYOffset; this.scroll_top = Math.ceil(t), this.state.sections.some(function (t, n) { if ("string" == typeof t && (t = document.querySelector(t)), c.visit(n), t.offsetTop >= e.scroll_top) return !0 }) }, onWheel: function (e) { var t = (new Date).getTime(), n = (0, a.default)(e), i = n.pixelY, o = Math.abs(n.pixelX) < Math.abs(i); if (!o) return !1; var s = this.section_current + (i > 0 ? 1 : -1); if ((s = Math.max(0, Math.min(s, this.state.sections.length - 1))) === this.section_current) return !1; p.scrolls.length > 149 && p.scrolls.shift(), p.scrolls.push(Math.abs(i)); var l = t - p.prevTime; (p.prevTime = t, l > 200 && (p.scrolls = []), this.scrollable) && (v(p.scrolls, 10) >= v(p.scrolls, 70) && o && this.scrollToIndex(s)) }, scrollTo: d, scrollToIndex: h } }) } else { document.body.classList.add("touch"); var w = new s.default.Manager(f); w.add(new s.default.Pan({ threshold: 20, pointers: 0 })), w.add(new s.default.Swipe).recognizeWith(w.get("pan")), t.Section = r = new i.default({ el: "#section", data: { state: c.state, scroll_top: window.pageYOffset, scroll_top_tweened: 0, scrollable: !0 }, watch: { scroll_top_tweened: function (e) { this.scroll_top = Math.ceil(e), f.style.setProperty("top", -e + "px") } }, computed: { section_current: u }, mounted: function () { var e = this, t = Array.prototype.slice.call(document.querySelectorAll(".section")); t.push(document.querySelector("footer")), t.forEach(function (e) { return c.push(e) }); var n = location.hash; n ? setTimeout(function () { e.scrollTo(n.split("!").join("")) }, 500) : this.scrollTo(), w.on("swipeup", this.onSwipeUp), w.on("swipedown", this.onSwipeDown) }, beforeDestroy: function () { w.off("swipeup", this.onSwipeUp), w.off("swipedown", this.onSwipeDown) }, methods: { onSwipeDown: function () { this.scrollToIndex(this.section_current - 1) }, onSwipeUp: function () { this.scrollToIndex(this.section_current + 1) }, scrollTo: d, scrollToIndex: h } }) } } t.SectionStore = c, t.Section = r, t.default = r }, 5: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var i = { mobile: /(Android|iPhone|iPad|iPod|iOS)/i, ios: /\(i[^;]+;( U;)? CPU.+Mac OS X/, android: /Android/g }; t.platform = i }, 50: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var i = function () { var e = function () { var e = document.querySelectorAll(".section"); e && Array.prototype.forEach.call(e, function (e) { e.style.setProperty("height", window.innerHeight + "px") }) }; return document.querySelector(".sp") ? function () { !function () { var e = Math.min(16, 16 * window.innerWidth / 375); document.body.style.setProperty("font-size", e + "px") }(), e() } : e }(), o = function e() { document.querySelector(".wrap").classList.add("ready"), window.removeEventListener("load", e) }, a = { mount: function () { window.addEventListener("load", o), i(), window.addEventListener("resize", i) }, destroy: function () { window.removeEventListener("resize", i) } }; t.default = a }, 51: function (e, t, n) { "use strict"; var i = a(n(1)), o = a(n(3)); function a(e) { return e && e.__esModule ? e : { default: e } } document.getElementById("archive") && new i.default({ el: "#archive", methods: { openWindow: function (e, t) { o.default.setComponent("modal-archive", { url: e, keywords: t.split(" ") }), o.default.open() } } }) }, 52: function (e, t, n) { "use strict"; var i = l(n(1)), o = l(n(8)), a = n(7), s = n(4); function l(e) { return e && e.__esModule ? e : { default: e } } function r(e, t) { var n = this, i = this.audio, o = function e() { n.playing = !1, i.removeEventListener("ended", e) }, a = function e() { n.playing = !0, i.removeEventListener("canplaythrough", e), i.addEventListener("ended", o), i.play() }; t.preventDefault(), i.pause(), i.currentTime = 0, i.src !== e ? (i.addEventListener("canplaythrough", a), i.src = e, i.load()) : a() } if (document.getElementById("char_sp")) { var c = i.default.extend({ data: function () { return { original: 0 } }, methods: { refresh: function () { a.TweenLite.killTweensOf(this.$data, !0), a.TweenLite.fromTo(this.$data, 10, { original: 0 }, { original: 8, ease: a.Linear.easeInOut }) } }, template: '<div class="characters-timer"><div class="characters-timer-inner" :style="{ width: original + \'em\' }"></div></div>' }); new i.default({ el: "#char_sp", data: { audio: null, selected: 1, slider: null, voice: null, voiceEnable: !1 }, components: { "component-timer": c }, mounted: function () { var e = this; this.audio = new Audio; var t = function () { e.$refs.timer.refresh() }; this.slider = new o.default(this.$el.querySelector(".characters-container"), { containerModifierClass: "characters-container-", wrapperClass: "characters-list", slideClass: "characters-item", slideActiveClass: "characters-item-active", slideDuplicateActiveClass: "characters-item-duplicate-active", slideVisibleClass: "characters-item-visible", slideDuplicateClass: "characters-item-duplicate", slideNextClass: "characters-item-next", slideDuplicateNextClass: "characters-item-duplicate-next", slidePrevClass: "characters-item-prev", slideDuplicatePrevClass: "characters-item-duplicate-prev", autoplay: { delay: 1e4, disableOnInteraction: !1 }, lazy: { loadPrevNext: !0, elementClass: "characters-lazy", loadingClass: "characters-lazy--loading", loadedClass: "characters-lazy--loaded", preloaderClass: "characters-lazy--preloader" }, navigation: { nextEl: ".characters-nav-next", prevEl: ".characters-nav-prev", disabledClass: "characters-nav-disabled", hiddenClass: "characters-nav-hidden" }, pagination: { el: ".characters-pagination", dynamicBullets: !0, dynamicMainBullets: 4, bulletClass: "characters-pagination-bullet", bulletActiveClass: "characters-pagination-bullet-active", modifierClass: "characters-pagination-", renderBullet: function (e, t) { return '<span class="' + t + '">' + ("0000" + (e + 1)).slice(-3) + "</span>" } }, loop: !0, allowTouchMove: !1, on: { autoplayStart: t, transitionEnd: t } }), this.slider.on("slideChange", function () { e.selected = e.slider.realIndex + 1 }) }, methods: { playVoice: function (e) { this.voiceEnable ? r.call(this, this.voice, e) : e.preventDefault() }, changeVoice: function (e) { this.voice = e.dataset.src, this.voiceEnable = !!e.dataset.enabled } } }) } document.getElementById("char_pc") && new i.default({ el: "#char_pc", data: { audio: null, playing: !1, selected_char: 0, selected_faction: 0, show_char: !1, show_faction: !0, state: s.SectionStore.state }, computed: { visited: function () { return this.state.visited[2] } }, mounted: function () { this.audio = new Audio }, methods: { closeChar: function () { this.show_char = !1; var e = this.audio; 0 !== e.currentTime && (e.pause(), e.currentTime = 0, this.playing = !1) }, closeCharGroup: function () { this.show_char || (this.show_faction = !0, this.show_char = !1, this.selected_char = 0) }, compare: function (e) { return this.selected_char === e ? 0 : this.selected_char < e ? 1 : -1 }, focusChar: function (e) { this.selected_char = e }, unFocusChar: function () { this.selected_char = 0 }, showCharGroup: function (e) { this.selected_faction = e, this.show_faction = !1 }, showChar: function () { var e = this; i.default.nextTick(function () { if (0 !== e.selected_char) { e.show_char = !0; var t = e.audio; 0 !== t.currentTime && (t.pause(), t.currentTime = 0, e.playing = !1) } }) }, playVoice: function (e) { var t = e.target.dataset; t.characterEnabled ? r.call(this, t.characterVoiceSrc, e) : e.preventDefault() } } }) }, 55: function (e, t, n) { "use strict"; var i = s(n(1)), o = s(n(56)), a = s(n(8)); function s(e) { return e && e.__esModule ? e : { default: e } } var l = i.default.extend({ props: ["info"], data: function () { return { offsets: [-2, -1, 0, 1, 2] } }, computed: { pages: function () { var e = this; return this.offsets.filter(function (t) { var n = t + e.info.page_current; return n >= 1 && n <= e.info.page_total }).map(function (t) { return t + e.info.page_current }) } }, mounted: function () { }, template: '<div class="pagination">\n       <div class="pagination-div prev">\n         <a class="pagination-prev" href="javascript:" v-if="info.page_current > 1" @click="$emit(\'switch\', info.page_current - 1)">←</a>\n       </div>\n       <div class="pagination-div">\n         <a class="pagination-button" :class="{active: offset === info.page_current }" v-for="offset in pages" href="javascript:" @click="$emit(\'switch\', offset)">{{offset}}</a>\n       </div>\n       <div class="pagination-div next">\n         <a class="pagination-next" href="javascript:" v-if="info.page_current < info.page_total" @click="$emit(\'switch\', info.page_current + 1)">→</a>\n       </div>\n     </div>' }); document.getElementById("news") && new i.default({ el: "#news", components: { pagination: l }, data: { tab: -1, pagination: { page_current: 1, page_total: 1 } }, watch: { tab: function (e) { this.readNewsInfo(e) } }, mounted: function () { this.readNewsInfo(this.tab), new a.default("#banner", o.default) }, methods: { switchNews: function (e) { this.tab = e }, readNewsInfo: function (e) { var t = this; i.default.nextTick(function () { var e = t.$el.querySelectorAll(".news-item"); t.pagination.page_current = 1, t.pagination.page_total = Math.max(1, Math.ceil(e.length / 9)) }) }, isNewsVisible: function (e) { return Math.ceil(e / 9) === this.pagination.page_current }, setPage: function (e) { this.pagination.page_current = e } } }) }, 56: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); t.default = { containerModifierClass: "banner-container-", wrapperClass: "banner-list", slideClass: "banner-item", slideActiveClass: "banner-item-active", slideDuplicateActiveClass: "banner-item-duplicate-active", slideVisibleClass: "banner-item-visible", slideDuplicateClass: "banner-item-duplicate", slideNextClass: "banner-item-next", slideDuplicateNextClass: "banner-item-duplicate-next", slidePrevClass: "banner-item-prev", slideDuplicatePrevClass: "banner-item-duplicate-prev", autoplay: { delay: 1e4, disableOnInteraction: !1 }, navigation: { nextEl: ".banner-nav-next", prevEl: ".banner-nav-prev", disabledClass: "banner-nav-disabled", hiddenClass: "banner-nav-hidden" }, pagination: { el: ".banner-pagination", bulletClass: "banner-pagination-bullet", bulletActiveClass: "banner-pagination-bullet-active", modifierClass: "banner-pagination-", currentClass: "banner-pagination-current", totalClass: "banner-pagination-total", hiddenClass: "banner-pagination-hidden", progressbarFillClass: "banner-pagination-progressbar-fill", clickableClass: "banner-pagination-clickable", clickable: !0 }, loop: !0, roundLengths: !0, allowTouchMove: !1 } }, 57: function (e, t, n) { "use strict"; var i = s(n(8)), o = s(n(1)), a = n(4); function s(e) { return e && e.__esModule ? e : { default: e } } if (document.getElementById("story-pc")) { var l = function (e, t) { if (Math.abs(e) - t < 0) return e; var n = Math.abs(e / 20); return n = n - t > 0 ? n : t, e > 0 ? n : -1 * n }; new o.default({ el: "#story-pc", data: { selected: 0, show_story: !1, state: a.SectionStore.state, des_flow_vec: { x: 0, y: 0 }, flow_vec: { x: 0, y: 0 } }, computed: { visited: function () { return this.state.visited[3] } }, mounted: function () { this.animateImage() }, methods: { showStory: function (e) { var t = this; o.default.nextTick(function () { t.selected = e, t.show_story = !0 }) }, closeStory: function () { this.show_story = !1, this.selected = 0 }, focus: function (e) { this.selected = e }, unfocus: function () { this.selected = 0 }, mouseMoveHandler: function (e) { this.des_flow_vec.y = 5 * (e.clientY / window.innerHeight - .5), this.des_flow_vec.x = 5 * (e.clientX / window.innerWidth - .5) }, animateImage: function () { this.show_story || this.flow_vec.x === this.des_flow_vec.x && this.flow_vec.y === this.des_flow_vec.y || (this.flow_vec.x = this.flow_vec.x + l(this.des_flow_vec.x - this.flow_vec.x, .001), this.flow_vec.y = this.flow_vec.y + l(this.des_flow_vec.y - this.flow_vec.y, .001)), window.requestAnimationFrame(this.animateImage) } } }) } document.getElementById("story-sp") && new o.default({ el: "#story-sp", data: { selected: 1 }, mounted: function () { var e = this; this.slider = new i.default(this.$el.querySelector(".story-container"), { containerModifierClass: "story-container-", wrapperClass: "story-list", slideClass: "story-item", slideActiveClass: "story-item-active", slideDuplicateActiveClass: "story-item-duplicate-active", slideVisibleClass: "story-item-visible", slideDuplicateClass: "story-item-duplicate", slideNextClass: "story-item-next", slideDuplicateNextClass: "story-item-duplicate-next", slidePrevClass: "story-item-prev", slideDuplicatePrevClass: "story-item-duplicate-prev", autoplay: { delay: 1e4, disableOnInteraction: !1 }, lazy: { loadPrevNext: !0, elementClass: "story-lazy", loadingClass: "story-lazy--loading", loadedClass: "story-lazy--loaded", preloaderClass: "story-lazy--preloader" }, navigation: { nextEl: ".story-nav-next", prevEl: ".story-nav-prev", disabledClass: "story-nav-disabled", hiddenClass: "story-nav-hidden" }, loop: !0, loopAdditionalSlides: 1, allowTouchMove: !1 }), this.slider.on("slideChange", function () { e.selected = e.slider.realIndex + 1 }) } }) }, 58: function (e, t, n) { "use strict"; var i = c(n(1)), o = c(n(17)), a = n(7), s = n(5), l = n(3), r = c(l); function c(e) { return e && e.__esModule ? e : { default: e } } var d = navigator.userAgent; document.getElementById("title") && new i.default({ el: "#title", data: { pv_active_index: 0, counter: -1, counter_tweened: 0, video_path: null, expanded: !1, ready: !1 }, components: { "component-share": o.default }, computed: { pv: function () { return "PV 00" + (this.pv_active_index + 1) }, counter_text: function () { for (var e = ("" + this.counter_tweened).split(""), t = e.length, n = [], i = 0; e.length;)n.unshift(e.pop()), !((i += 1) % 3) && i < t && n.unshift(","); return n.join("") } }, mounted: function () { this.counter = 0; var e = this.$el.querySelector(".title-pv-item.active"); this.video_path = e.dataset.videoLink, window.addEventListener("load", this.pageReady) }, watch: { counter: function (e) { a.TweenLite.to(this.$data, 1, { counter_tweened: e }) }, counter_tweened: function (e) { this.counter_tweened = Math.round(e) } }, methods: { switchPV: function (e, t) { this.pv_active_index = e, this.video_path = t.target.dataset.videoLink }, openDownloadPC: function (e) { /macintosh|mac os x/i.test(d) ? window.location.href = e.pc_mac : window.location.href = e.pc_win }, openDownload: function (e) { var t = '<div class="modal-download">\n          <a class="modal-download-btn ios" href="' + e.ios + '" title="ios下载" />\n          <a class="modal-download-btn android" href="' + (s.platform.ios.test(d) ? e.ios : e.android) + '" title="android下载" />\n          <a class="modal-download-btn taptap" href="' + e.taptap + '" title="taptap下载" />\n          <a class="modal-download-btn divider" href="javascript:0;" />\n          <a class="modal-download-btn bilibili" href="' + e.bilibili + '" title="bilibili视频专区" />\n        </div>'; r.default.setContent(t), r.default.open() }, playVideo: function () { l.ModalStore.setComponent("modal-video", { src: this.video_path }), l.ModalStore.open() }, toggleDownload: function () { this.expanded = !this.expanded }, scrollPage: function () { var e = Section; e.scrollToIndex(e.section_current + 1) }, pageReady: function () { this.toggleDownload(), window.removeEventListener("load", this.pageReady) } } }) }, 59: function (e, t, n) { "use strict"; var i = function (e) { return e && e.__esModule ? e : { default: e } }(n(1)); document.getElementById("article") && new i.default({ el: "#article", methods: { scrollToTop: function () { var e = window.pageYOffset, t = { offsetY: e }; TweenLite.fromTo(t, .5, { offsetY: e }, { offsetY: 0, onUpdate: function () { window.scrollTo(window.pageXOffset, t.offsetY) } }) } } }) }, 8: function (e, t, n) { "use strict"; Object.defineProperty(t, "__esModule", { value: !0 }); var i = n(53), o = i.Swiper.use([i.Autoplay, i.Lazy, i.Navigation, i.Pagination]); t.default = o } });
//# sourceMappingURL=index.bundle.js.map